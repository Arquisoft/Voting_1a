<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-general.xhtml">

	<ui:define name="titulo">Votacion</ui:define>

	<ui:define name="cuerpo">

		<p:panel header="Opciones de voto disponibles">
			<p:dataTable id="tablaPartidos" var="partido" value="#{voto.votos}"
				border="1">

				<p:column headerText="Partidos">
					<h:outputText value="#{partido.nombre}">
					</h:outputText>
				</p:column>

				<p:column headerText="Voto">

					<p:commandButton rendered="#{voto.votado == false}" value="Votar"
						id="botonVotar" actionListener="#{voto.votar(partido)}"
						update="tablaPartidos">
						<p:confirm header="Confirmation" message="Â¿Desea continuar?"
							icon="ui-icon-alert" />
					</p:commandButton>

					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
						<p:commandButton update="tablaPartidos" value="Si" type="button"
							styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
						<p:commandButton update="tablaPartidos" value="No" type="button"
							styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
					</p:confirmDialog>

					<h:outputText value="#{voto.result}" />


				</p:column>
			</p:dataTable>
					
		</p:panel>

	</ui:define>

</ui:composition>